import{a as b,i as u}from"./assets/vendor-Dy6RejrS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const A="https://sound-wave.b.goit.study/api",h=8;async function w(e=1){try{const t=await b.get(`${A}/artists`,{params:{page:e,limit:h}});return t.data?t.data||[]:(console.error("Error: API returned no data"),[])}catch(t){throw console.error("Error:",t),t}}const f=document.querySelector(".burger-btn"),d=document.querySelector(".mobile-menu"),m=document.querySelector(".mobile-menu-close"),E=document.querySelectorAll(".mobile-nav-link"),S=document.querySelectorAll(".nav-link"),q=document.querySelector(".page-header");f&&f.addEventListener("click",()=>{d.classList.add("is-open"),document.body.style.overflow="hidden"});m&&m.addEventListener("click",()=>{d.classList.remove("is-open"),document.body.style.overflow=""});function y(e){const t=document.querySelector(e);if(t){const s=q.offsetHeight,r=t.getBoundingClientRect().top+window.pageYOffset-s;window.scrollTo({top:r,behavior:"smooth"})}}S.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=t.currentTarget.getAttribute("href");y(s)})});E.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=t.currentTarget.getAttribute("href");y(s),d.classList.remove("is-open"),document.body.style.overflow=""})});function v(e,t){return typeof e!="string"?"":e.length>t?e.slice(0,t)+"...":e}const B=document.querySelectorAll(".artist-description"),P=67;B.forEach(e=>{if(e){const t=v(e.textContent,P);e.textContent=t}});const i=document.querySelector(".loader");function I(e){return`
    <ul class="artist-genre-list">
      ${e.map(t=>`<li class="artist-genre-item">${t}</li>`).join("")}
    </ul>
  `}function M(e){return e.map(t=>`
    <li class="artist-item">
          <img class="artist-item-img" src="${t.strArtistThumb}" alt="${t.strArtist}">
          ${I(t.genres)}
          <p class="artist-name">${t.strArtist}</p>
          <p class="artist-description">${v(t.strBiographyEN,67)}</p>
          <button type="button" class="artist-learn-btn" data-id="${t._id}">Learn More
            <svg class="learn-btn-svg">
               <use href="/img/icons-svg.svg#icon-icon"></use>
            </svg>
          </button>
        </li>`).join("")}function T(){i.classList.add("is-active"),i.classList.remove("is-hidden")}function $(){i.classList.add("is-hidden"),i.classList.remove("is-active")}function g(){l.classList.add("is-hidden"),l.classList.remove("is-active")}const O=document.querySelector(".artist-list"),l=document.querySelector(".artist-load-btn");let a=1,p=0;l.addEventListener("click",L);document.addEventListener("DOMContentLoaded",L);async function L(){T();try{const e=await w(a),t=e.artists;if(p=e.totalArtists,a*h>=p){g(),u.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"});return}if(!t||!Array.isArray(t)){console.error("Error: fetched data is not an array or is undefined");return}if(t.length===0){g();return}const n=M(t);O.insertAdjacentHTML("beforeend",n),a++}catch(e){console.error("Error loading artists:",e),u.error({message:"Something went wrong. Please try again later.",position:"topCenter"})}finally{$();const e=document.querySelector(".artist-item");if(e){const t=e.getBoundingClientRect().height;window.scrollBy({top:t,behavior:"smooth"})}}}const k=document.querySelector(".artist-list");k.addEventListener("click",e=>{const t=e.target.closest(".artist-learn-btn");if(!t)return;const s=t.dataset.id;console.log("ID виконавця:",s)});
//# sourceMappingURL=index.js.map
