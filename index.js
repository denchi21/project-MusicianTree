import{a as k,i as A,S as G}from"./assets/vendor-DzLxt0QD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const O="https://sound-wave.b.goit.study/api",H=8;async function _(e,t={}){try{const n=await k.get(e,{headers:{accept:"application/json",...t.headers},...t});if(!n.data)throw new Error(`HTTP error! status: ${n.status}`);return n.data}catch(n){throw n}}async function K(e=1,t="",n="",r=""){try{const o=new URLSearchParams;o.append("page",e),o.append("limit",H),t.trim()&&o.append("name",t),n.trim()&&o.append("genre",n),r.trim()&&o.append("sortName",r);const s=await k.get(`${O}/artists`,{params:o});return s.data?s.data||[]:[]}catch(o){throw o}}async function W(e){try{const t=await k.get(`${O}/artists/${e}`,{});return t.data?t.data||{}:{}}catch(t){throw t}}const x=document.querySelector(".burger-btn"),M=document.querySelector(".mobile-menu"),B=document.querySelector(".mobile-menu-close"),Z=document.querySelectorAll(".mobile-nav-link"),J=document.querySelectorAll(".nav-link"),Q=document.querySelector(".page-header");x&&x.addEventListener("click",()=>{M.classList.add("is-open"),document.body.style.overflow="hidden"});B&&B.addEventListener("click",()=>{M.classList.remove("is-open"),document.body.style.overflow=""});function D(e){const t=document.querySelector(e);if(t){const n=Q.offsetHeight,o=t.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:o,behavior:"smooth"})}}J.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");D(n)})});Z.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");D(n),M.classList.remove("is-open"),document.body.style.overflow=""})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".section#reviews"),t=document.querySelector(".feedback-swiper .swiper-wrapper"),n=document.querySelector(".custom-pagination");let r;if(!e||!t||!n){console.error("Required DOM elements not found:",{feedbackSection:e,swiperContainer:t,paginationContainer:n}),A.error({title:"Error",message:"Failed to initialize feedback section. Please check the HTML structure."});return}r=document.createElement("div"),r.className="loader",r.textContent="Loading...",e.appendChild(r);function o(c,a){let i;return function(...u){clearTimeout(i),i=setTimeout(()=>c.apply(this,u),a)}}function s(c){t.innerHTML="";const a=c.data||c;if(!Array.isArray(a)){console.error("No valid data array found:",c),A.error({title:"Error",message:"Failed to load feedback data. Invalid response format."});return}const i=Math.floor(Math.random()*8)+1;[a[0],a[i],a[9]].forEach((m,f)=>{const g=document.createElement("div");g.classList.add("swiper-slide","feedback-card");const z=Math.round(m.rating);g.innerHTML=`
        <div class="feedback-content">
          <div class="star-rating">
            <svg width="116" height="20" viewBox="0 0 116 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                ${l(z)}
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="116" height="18.8889" fill="white"/>
                </clipPath>
              </defs>
            </svg>
          </div>
          <p class="comment">${m.descr}</p>
          <div class="user-info"><span class="user-name">${m.name}</span></div>
        </div>
      `,t.appendChild(g)}),n.innerHTML="";for(let m=0;m<3;m++){const f=document.createElement("div");f.classList.add("pagination-bullet"),f.setAttribute("data-index",m),m===0&&f.classList.add("active"),n.appendChild(f)}r.style.display="none"}function l(c){let a="";const i="M9.071 1.31791C9.41474 0.501451 10.5855 0.501452 10.9292 1.31791L12.958 6.1368C13.103 6.481 13.4307 6.71618 13.8068 6.74597L19.0728 7.16304C19.965 7.23371 20.3268 8.3337 19.647 8.90897L15.6349 12.3042C15.3483 12.5468 15.2231 12.9273 15.3107 13.2899L16.5365 18.3666C16.7441 19.2267 15.427 19.9066 15.0541 19.4457L10.5247 16.7251C10.2026 16.5308 9.79762 16.5308 9.4756 16.7251L4.96711 19.4457C4.20323 19.9066 3.25608 19.2267 3.46376 18.3666L4.68954 13.2899C4.7771 12.9273 4.65194 12.5468 4.36538 12.2942L0.353184 8.90897C-0.326596 8.3337 0.0351899 7.23371 0.927413 7.16304L6.19348 6.74597C6.56962 6.71618 6.89728 6.481 7.04219 6.1368L9.071 1.31794Z";for(let u=0;u<5;u++){const m=u*24;a+=`<path d="${i}" fill="${u<c?"#764191":"#fff"}" transform="translate(${m}, 0)"/>`}return a}r.style.display="block",_("https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1").then(c=>{console.log("API Response:",c),s(c);const a=new G(".feedback-swiper",{direction:"horizontal",loop:!0,navigation:{nextEl:".swiper-button-prev",prevEl:".swiper-button-next"},slidesPerView:1,spaceBetween:0});a.on("slideChange",()=>{const m=document.querySelectorAll(".pagination-bullet"),f=a.realIndex%3;m.forEach(g=>{g.classList.toggle("active",g.getAttribute("data-index")===f.toString())})});const i=document.querySelector(".swiper-button-next"),u=document.querySelector(".swiper-button-prev");i&&u&&(i.addEventListener("click",o(()=>a.slideNext(),300)),u.addEventListener("click",o(()=>a.slidePrev(),300)))}).catch(c=>{console.error("Fetch error:",c),r.style.display="none",A.error({title:"Error",message:"Failed to load feedback. Please try again later."})})});function R(e,t){return typeof e!="string"?"":e.length>t?e.slice(0,t)+"...":e}const X=document.querySelectorAll(".artist-description"),ee=67;X.forEach(e=>{if(e){const t=R(e.textContent,ee);e.textContent=t}});const y=document.querySelector(".container-modal"),w=y.querySelector(".modal"),d=y.querySelector(".container-modal-1");y.querySelector(".modal-close-btn");const p=document.getElementById("modalLoader");function j(e){e.key==="Escape"&&S()}function F(e){d.contains(e.target)||S()}function $(e,t){if(!t)return null;const n=document.createElement("div");n.className="folder-box";const r=document.createElement("h3");r.className="years-title",r.textContent=e;const o=document.createElement("p");return o.className="years-item",o.textContent=t,n.appendChild(r),n.appendChild(o),n}function te(e){if(!e||!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");return t.className="janr",e.forEach(n=>{const r=document.createElement("p");r.className="janr-item",r.textContent=n,t.appendChild(r)}),t}function ne(e){if(!e||isNaN(e))return"--:--";const t=e>1e3?Math.round(e/1e3):e,n=Math.floor(t/60),r=t%60;return`${n}:${r.toString().padStart(2,"0")}`}function oe(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;return e.forEach(n=>{if(!n.strAlbum)return;t.has(n.strAlbum)||t.set(n.strAlbum,{strAlbum:n.strAlbum,tracks:[]});const r=n.strMusicVid||n.strTrackThumb&&n.strTrackThumb.replace("/preview","")||null;t.get(n.strAlbum).tracks.push({strTrack:n.strTrack,intDuration:n.intDuration,strMusicVid:r})}),Array.from(t.values())}function re(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="tracks-container";const n=document.createElement("ul");return n.className="track-name",n.innerHTML=`
    <li class="name-column-item item-col-1">Track</li>
    <li class="name-column-item item-col-2">Time</li>
    <li class="name-column-item item-col-3">Link</li>
  `,t.appendChild(n),e.forEach((r,o)=>{const s=document.createElement("ul");s.className="track-name";const l=document.createElement("li");l.className="track-name-item item-col-1",l.textContent=r.strTrack||"Untitled";const c=document.createElement("li");c.className="track-name-item item-col-2",c.textContent=ne(r.intDuration);const a=document.createElement("li");if(a.className="track-name-item item-col-3",r.strMusicVid){const i=document.createElement("a");i.href=r.strMusicVid,i.target="_blank",i.rel="noopener noreferrer",i.title=`Watch ${r.strTrack} on YouTube`,i.innerHTML=`
        <svg class="icon-youtube" width="24" height="24">
          <use href="../img/symbol-defs.svg#icon-Youtube"></use>
        </svg>
      `,i.className="youtube-link",a.appendChild(i)}s.appendChild(l),s.appendChild(c),s.appendChild(a),t.appendChild(s)}),t}function se(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="album-box";const n=document.createElement("h2");n.className="album-title",n.textContent="Albums",t.appendChild(n);const r=document.createElement("div");return r.className="albums-grid",e.forEach(o=>{const s=document.createElement("div");s.className="album-title-box";const l=document.createElement("h3");if(l.className="name-album",l.textContent=o.strAlbum||"Untitled Album",s.appendChild(l),o.tracks&&Array.isArray(o.tracks)){const c=re(o.tracks);c&&s.appendChild(c)}t.appendChild(s)}),t}function ie(e){console.log("Artist data received:",e),d.innerHTML="";const t=oe(e.tracksList);console.log("Transformed albums data:",t);const n=document.createElement("button");n.className="modal-close-btn",n.type="button",n.innerHTML=`
    <svg class="icon" width="24" height="24">
      <use href="../img/symbol-defs.svg#icon-close"></use>
    </svg>
  `,d.appendChild(n);const r=document.createElement("h2");r.className="title-name",r.textContent=e.strArtist,d.appendChild(r);const o=document.createElement("div");if(o.className="artist-info-container",e.strArtistThumb){const i=document.createElement("img");i.className="artist-photo",i.src=e.strArtistThumb,i.alt=e.strArtist,o.appendChild(i)}const s=document.createElement("div");s.className="folder";const l=document.createElement("div");l.className="key-info-container",[{title:"Years active",content:e.intFormedYear?`${e.intFormedYear}–present`:void 0},{title:"Sex",content:e.strGender},{title:"Members",content:e.intMembers||"1"},{title:"Country",content:e.strCountry}].forEach(i=>{const u=$(i.title,i.content);u&&l.appendChild(u)}),s.appendChild(l);const a=$("Biography",e.strBiographyEN);if(a&&(a.className="folder-box biography",s.appendChild(a)),e.genres&&Array.isArray(e.genres)){const i=te(e.genres);i&&s.appendChild(i)}if(o.appendChild(s),d.appendChild(o),t.length>0){const i=se(t);i&&d.appendChild(i)}else console.log("No albums data found or invalid format")}async function ae(e){if(!(!y||!d||!p)){y.classList.add("is-open"),document.body.classList.add("modal-open"),p.style.display="block",d.style.display="none";try{const t=await W(e);if(!t)throw new Error("No artist data received");ie(t),p.style.display="none",d.style.display="block";const n=d.querySelector(".modal-close-btn");n&&n.addEventListener("click",S),document&&document.addEventListener("keydown",j),w&&w.addEventListener("click",F)}catch(t){p&&d&&(p.style.display="none",d.style.display="block",d.innerHTML=`
        <div class="error-message">
          <p>Sorry, we couldn't load the artist information.</p>
          <p>Error: ${t.message}</p>
        </div>
      `)}}}function S(){if(!y||!d||!p)return;y.classList.remove("is-open"),document.body.classList.remove("modal-open"),p.style.display="none",d.style.display="block",d.innerHTML="";const e=d.querySelector(".modal-close-btn");e&&e.removeEventListener("click",S),document&&document.removeEventListener("keydown",j),w&&w.removeEventListener("click",F)}function ce(){try{const e={modalSection:document.querySelector(".container-modal"),modalOverlay:document.querySelector(".modal"),modalContent:document.querySelector(".container-modal-1"),closeModalBtn:document.querySelector(".modal-close-btn"),loader:document.getElementById("modalLoader")};Object.entries(e).forEach(([t,n])=>{if(!n)throw new Error(`Required modal element "${t}" not found`)}),window.modalSection=e.modalSection,window.modalOverlay=e.modalOverlay,window.modalContent=e.modalContent,window.closeModalBtn=e.closeModalBtn,window.loader=e.loader}catch(e){throw e}}document.addEventListener("DOMContentLoaded",ce);const L=document.querySelector(".artist-list"),b=document.querySelector(".artist-load-btn"),Y=document.querySelector(".filters-input"),le=document.querySelectorAll(".reset-btn-js"),de=document.querySelector(".search-filters-btn"),ue=document.querySelector(".js-form"),U=document.querySelector(".filters-dropdown-sort"),V=document.querySelector(".filters-dropdown-genre"),E=document.querySelector(".artist-empty");let h=1,I=0,T="",N="",q="";function me(){b.addEventListener("click",()=>v(!0)),document.addEventListener("DOMContentLoaded",v),Y.addEventListener("input",pe),le.forEach(t=>{t.addEventListener("click",ge)}),de.addEventListener("click",()=>{ue.classList.toggle("is-open")}),U.addEventListener("change",he),V.addEventListener("change",ye),document.querySelector(".artist-list").addEventListener("click",t=>{const n=t.target.closest(".artist-learn-btn");if(!n)return;const r=n.dataset.id;ae(r)})}function P(){b.classList.add("is-hidden"),b.classList.remove("is-active")}function fe(){b.classList.remove("is-hidden"),b.classList.add("is-active")}async function v(e=!1){Le();try{const t=await K(h,T,N,q),n=t.artists;n.length===0?(P(),L.classList.add("visually-hidden"),E.classList.remove("visually-hidden"),E.classList.add("is-active")):(fe(),L.classList.remove("visually-hidden"),E.classList.add("visually-hidden"),E.classList.remove("is-active"));const r=be(n);if(e){L.insertAdjacentHTML("beforeend",r);const s=document.querySelector(".artist-item");if(s){const l=s.getBoundingClientRect().height;window.scrollBy({top:l,behavior:"smooth"})}}else L.innerHTML=r;I=t.totalArtists,h*H>=I&&P(),h++}catch{return}finally{Ee()}}function pe(e){T=e.target.value.trim(),h=1,v()}function he(e){q=e.target.value.trim(),h=1,v()}function ye(e){h=1,N=e.target.value.trim(),v()}function ge(e){h=1,T="",N="",q="",Y.value="",U.value="",V.value="",v()}const C=document.querySelector(".loader");function ve(e){return`
    <ul class="artist-genre-list">
      ${e.map(t=>`<li class="artist-genre-item">${t}</li>`).join("")}
    </ul>
  `}function be(e){return e.map(t=>`
    <li class="artist-item">
          <img class="artist-item-img" src="${t.strArtistThumb}" alt="${t.strArtist}">
          ${ve(t.genres)}
          <p class="artist-name">${t.strArtist}</p>
          <p class="artist-description">${R(t.strBiographyEN,67)}</p>
          <button type="button" class="artist-learn-btn" data-id="${t._id}">Learn More
            <svg class="learn-btn-svg">
               <use href="../img/symbol-defs.svg#icon-icon"></use>
            </svg>
          </button>
        </li>`).join("")}function Le(){C.classList.add("is-active"),C.classList.remove("is-hidden")}function Ee(){C.classList.add("is-hidden"),C.classList.remove("is-active")}me();
//# sourceMappingURL=index.js.map
