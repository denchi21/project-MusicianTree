import{a as j,i as $,S as ie}from"./assets/vendor-DzLxt0QD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const _="https://sound-wave.b.goit.study/api",W=8;async function ce(e,t={}){try{const n=await j.get(e,{headers:{accept:"application/json",...t.headers},...t});if(!n.data)throw new Error(`HTTP error! status: ${n.status}`);return n.data}catch(n){throw n}}async function ae(e=1,t="",n="",s=""){try{const o=new URLSearchParams;o.append("page",e),o.append("limit",W),t.trim()&&o.append("name",t),n.trim()&&o.append("genre",n),s.trim()&&o.append("sortName",s);const r=await j.get(`${_}/artists`,{params:o});return r.data?r.data||[]:[]}catch(o){throw o}}async function le(e){try{const t=await j.get(`${_}/artists/${e}`,{});return t.data?t.data||{}:{}}catch(t){throw t}}const U=document.querySelector(".burger-btn"),x=document.querySelector(".mobile-menu"),G=document.querySelector(".mobile-menu-close"),de=document.querySelectorAll(".mobile-nav-link"),ue=document.querySelectorAll(".nav-link"),Z=document.querySelector(".page-header"),P=document.getElementById("scrollToTopBtnDesktop"),D=document.getElementById("scrollToTopBtnMobile"),H=document.getElementById("footerLogo"),O=document.getElementById("footerLogoDesktop");U&&U.addEventListener("click",()=>{x.classList.add("is-open"),document.body.style.overflow="hidden"});G&&G.addEventListener("click",()=>{x.classList.remove("is-open"),document.body.style.overflow=""});P==null||P.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});D==null||D.addEventListener("click",function(e){e.preventDefault(),x.classList.remove("is-open"),document.body.style.overflow="",window.scrollTo({top:0,behavior:"smooth"})});function J(e){const t=document.querySelector(e);if(t){const n=Z.offsetHeight,o=t.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:o,behavior:"smooth"})}}ue.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");J(n)})});de.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");J(n),x.classList.remove("is-open"),document.body.style.overflow=""})});window.addEventListener("DOMContentLoaded",()=>{const e=window.location.hash;if(e){const t=document.querySelector(e);if(t){const n=Z.offsetHeight,o=t.getBoundingClientRect().top+window.pageYOffset-n;setTimeout(()=>{window.scrollTo({top:o,behavior:"auto"})},0)}}});function Q(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}H==null||H.addEventListener("click",Q);O==null||O.addEventListener("click",Q);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".feedback-section#reviews"),t=document.querySelector(".feedback-swiper .swiper-wrapper"),n=document.querySelector(".feedback-pagination");let s;if(!e||!t||!n){console.error("Required DOM elements not found:",{feedbackSection:e,swiperContainer:t,paginationContainer:n}),$.error({title:"Error",message:"Failed to initialize feedback section. Please check the HTML structure."});return}s=document.createElement("div"),s.className="feedback-loader",s.textContent="Loading...",e.appendChild(s);function o(m,c){let l;return function(...d){clearTimeout(l),l=setTimeout(()=>m.apply(this,d),c)}}function r(m){t.innerHTML="";const c=m.data||m;if(!Array.isArray(c)){console.error("No valid data array found:",m),$.error({title:"Error",message:"Failed to load feedback data. Invalid response format."});return}c.forEach((l,d)=>{const p=document.createElement("div");p.classList.add("swiper-slide","feedback-slide-card");const w=Math.round(l.rating);p.innerHTML=`
        <div class="feedback-slide-content">
          <div class="feedback-star-rating">
            <svg width="116" height="20" viewBox="0 0 116 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                ${a(w)}
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="116" height="20" fill="white"/>
                </clipPath>
              </defs>
            </svg>
          </div>
          <p class="feedback-comment">${l.descr}</p>
          <div class="feedback-user-info"><span class="feedback-user-name">${l.name}</span></div>
        </div>
      `,t.appendChild(p)}),n.innerHTML="";for(let l=0;l<3;l++){const d=document.createElement("div");d.classList.add("feedback-pagination-bullet"),d.setAttribute("data-index",l),l===0&&d.classList.add("active"),n.appendChild(d)}s.style.display="none"}function a(m){let c="";const l="M9.071 1.31791C9.41474 0.501451 10.5855 0.501452 10.9292 1.31791L12.958 6.1368C13.103 6.481 13.4307 6.71618 13.8068 6.74597L19.0728 7.16304C19.965 7.23371 20.3268 8.3337 19.647 8.90897L15.6349 12.3042C15.3483 12.5468 15.2231 12.9273 15.3107 13.2899L16.5365 18.3666C16.7441 19.2267 15.427 19.9066 15.0541 19.4457L10.5247 16.7251C10.2026 16.5308 9.79762 16.5308 9.4756 16.7251L4.96711 19.4457C4.20323 19.9066 3.25608 19.2267 3.46376 18.3666L4.68954 13.2899C4.7771 12.9273 4.65194 12.5468 4.36538 12.2942L0.353184 8.90897C-0.326596 8.3337 0.0351899 7.23371 0.927413 7.16304L6.19348 6.74597C6.56962 6.71618 6.89728 6.481 7.04219 6.1368L9.071 1.31794Z";for(let d=0;d<5;d++){const p=d*24;c+=`<path d="${l}" fill="${d<m?"#764191":"#fff"}" transform="translate(${p}, 0)"/>`}return c}s.style.display="block",ce("https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1").then(m=>{r(m);const c=new ie(".feedback-swiper",{direction:"horizontal",loop:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1,spaceBetween:0});function l(){const w=document.querySelector(".swiper-button-prev"),y=document.querySelector(".swiper-button-next");c.realIndex===0?w.classList.add("inactive"):w.classList.remove("inactive"),c.realIndex===c.slides.length-1?y.classList.add("inactive"):y.classList.remove("inactive")}c.on("init",l),c.on("slideChange",()=>{l();const w=document.querySelectorAll(".feedback-pagination-bullet"),y=c.realIndex;w.forEach(T=>{const I=parseInt(T.getAttribute("data-index"));I===0?T.classList.toggle("active",y===0):I===1?T.classList.toggle("active",y>=1&&y<=8):I===2&&T.classList.toggle("active",y===9)})}),c.init();const d=document.querySelector(".swiper-button-next"),p=document.querySelector(".swiper-button-prev");d&&p&&(d.addEventListener("click",o(()=>c.slideNext(),300)),p.addEventListener("click",o(()=>c.slidePrev(),300)))}).catch(m=>{console.error("Fetch error:",m),s.style.display="none",$.error({title:"Error",message:"Failed to load feedback. Please try again later."})});const u=document.querySelector(".feedback-modal-backdrop"),f=document.querySelector(".feedback-modal-window"),i=document.querySelector(".feedback-button.open-modal"),h=document.querySelector(".feedback-modal-close-btn"),L=document.querySelector(".feedback-modal-mobile-close");if(u&&f&&i&&(h||L)){const m=()=>{u.classList.remove("visually-hidden"),f.classList.remove("visually-hidden"),document.body.style.overflow="hidden",i.removeEventListener("click",m),h&&h.addEventListener("click",c),L&&L.addEventListener("click",c),u.addEventListener("click",l),document.addEventListener("keydown",d)},c=()=>{u.classList.add("visually-hidden"),f.classList.add("visually-hidden"),document.body.style.overflow="",h&&h.removeEventListener("click",c),L&&L.removeEventListener("click",c),u.removeEventListener("click",l),document.removeEventListener("keydown",d),i.addEventListener("click",m)},l=p=>{p.target===u&&c()},d=p=>{p.key==="Escape"&&!u.classList.contains("visually-hidden")&&c()};i.addEventListener("click",m)}else console.warn("Modal elements not found:",{modal:u,modalContent:f,openModalBtn:i,closeModalBtn:h,mobileCloseBtn:L})});function X(e,t){return typeof e!="string"?"":e.length>t?e.slice(0,t)+"...":e}const me=document.querySelectorAll(".artist-description"),fe=67;me.forEach(e=>{if(e){const t=X(e.textContent,fe);e.textContent=t}});const ee="/project-MusicianTree/assets/symbol-defs-DUpbwh8u.svg",v=document.querySelector(".artist-modal-backdrop"),pe=v.querySelector(".artist-modal-window"),g=v.querySelector(".artist-modal-content"),S=v.querySelector(".artist-modal-close-btn"),C=document.getElementById("artistModalLoader");function te(e){e.key==="Escape"&&E()}function ne(e){e.target===v&&E()}function V(e,t){if(!t)return null;const n=document.createElement("div");n.className="folder-box";const s=document.createElement("h3");s.className="years-title",s.textContent=e;const o=document.createElement("p");return o.className="years-item",o.textContent=t,n.appendChild(s),n.appendChild(o),n}function he(e){if(!e||!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");return t.className="janr",e.forEach(n=>{const s=document.createElement("p");s.className="janr-item",s.textContent=n,t.appendChild(s)}),t}function ve(e){if(!e||isNaN(e))return"--:--";const t=e>1e3?Math.round(e/1e3):e,n=Math.floor(t/60),s=t%60;return`${n}:${s.toString().padStart(2,"0")}`}function ye(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;return e.forEach(n=>{if(!n.strAlbum)return;t.has(n.strAlbum)||t.set(n.strAlbum,{strAlbum:n.strAlbum,tracks:[]});const s=n.movie||n.strTrackThumb&&n.strTrackThumb.replace("/preview","")||null;t.get(n.strAlbum).tracks.push({strTrack:n.strTrack,intDuration:n.intDuration,strMusicVid:s})}),Array.from(t.values())}function ge(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="tracks-container";const n=document.createElement("ul");return n.className="track-name",n.innerHTML=`
    <li class="name-column-item item-col-1">Track</li>
    <li class="name-column-item item-col-2">Time</li>
    <li class="name-column-item item-col-3">Link</li>
  `,t.appendChild(n),e.forEach((s,o)=>{const r=document.createElement("ul");r.className="track-name";const a=document.createElement("li");a.className="track-name-item item-col-1",a.textContent=s.strTrack||"Untitled";const u=document.createElement("li");u.className="track-name-item item-col-2",u.textContent=ve(s.intDuration);const f=document.createElement("li");if(f.className="track-name-item item-col-3",s.strMusicVid){const i=document.createElement("a");i.href=s.strMusicVid,i.target="_blank",i.rel="noopener noreferrer",i.title=`Watch ${s.strTrack} on YouTube`,i.innerHTML=`
        <svg class="icon-youtube" width="24" height="24">
          <use href="${ee}#icon-Youtube"></use>
        </svg>
      `,i.className="youtube-link",f.appendChild(i)}r.appendChild(a),r.appendChild(u),r.appendChild(f),t.appendChild(r)}),t}function be(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="album-box";const n=document.createElement("h2");n.className="album-title",n.textContent="Albums",t.appendChild(n);const s=document.createElement("div");return s.className="albums-grid",e.forEach(o=>{const r=document.createElement("div");r.className="album-title-box";const a=document.createElement("h3");if(a.className="name-album",a.textContent=o.strAlbum||"Untitled Album",r.appendChild(a),o.tracks&&Array.isArray(o.tracks)){const u=ge(o.tracks);u&&r.appendChild(u)}t.appendChild(r)}),t}function Le(e){g.innerHTML="";const t=ye(e.tracksList),n=document.createElement("button");n.className="modal-close-btn",n.type="button",n.innerHTML=`
    <svg class="icon" width="24" height="24">
      <use href="./img/symbol-defs.svg#icon-close"></use>
    </svg>
  `,n.addEventListener("click",i=>{E()}),g.appendChild(n);const s=document.createElement("h2");s.className="title-name",s.textContent=e.strArtist,g.appendChild(s);const o=document.createElement("div");if(o.className="artist-info-container",e.strArtistThumb){const i=document.createElement("img");i.className="artist-photo",i.src=e.strArtistThumb,i.alt=e.strArtist,o.appendChild(i)}const r=document.createElement("div");r.className="folder";const a=document.createElement("div");a.className="key-info-container",[{title:"Years active",content:e.intFormedYear?`${e.intFormedYear}–present`:void 0},{title:"Sex",content:e.strGender},{title:"Members",content:e.intMembers||"1"},{title:"Country",content:e.strCountry}].forEach(i=>{const h=V(i.title,i.content);h&&a.appendChild(h)}),r.appendChild(a);const f=V("Biography",e.strBiographyEN);if(f&&(f.className="folder-box biography",r.appendChild(f)),e.genres&&Array.isArray(e.genres)){const i=he(e.genres);i&&r.appendChild(i)}if(o.appendChild(r),g.appendChild(o),t.length>0){const i=be(t);i&&g.appendChild(i)}else console.log("No albums data found or invalid format")}async function we(e){try{v.classList.remove("visually-hidden"),document.body.style.overflow="hidden",C&&(C.style.display="block");const t=await le(e);C&&(C.style.display="none"),Le(t),document.addEventListener("keydown",te),v.addEventListener("click",ne),S&&S.addEventListener("click",E)}catch(t){console.error("Error opening modal:",t),E()}}function E(){document.body.style.overflow="",v.classList.add("visually-hidden"),document.removeEventListener("keydown",te),v.removeEventListener("click",ne),S&&S.removeEventListener("click",E),g.innerHTML=""}document.addEventListener("DOMContentLoaded",()=>{window.modalSection=v,window.modalOverlay=pe,window.modalContent=g,window.closeModalBtn=S,window.loader=C});const M=document.querySelector(".artist-list"),A=document.querySelector(".artist-load-btn"),Ee=document.querySelector(".js-form"),ke=document.querySelectorAll(".reset-btn-js"),Ce=document.querySelector(".search-filters-btn"),F=document.querySelector(".js-form"),oe=document.querySelector(".filters-dropdown-sort"),se=document.querySelector(".filters-dropdown-genre"),B=document.querySelector(".artist-empty");let b=1,z=0,q="",R="",Y="";function Se(){A.addEventListener("click",()=>k(!0)),document.addEventListener("DOMContentLoaded",k),Ee.addEventListener("submit",Te),ke.forEach(t=>{t.addEventListener("click",re)}),Ce.addEventListener("click",()=>{F.classList.toggle("is-open")}),oe.addEventListener("change",Me),se.addEventListener("change",Be),document.querySelector(".artist-list").addEventListener("click",t=>{const n=t.target.closest(".artist-learn-btn");if(!n)return;const s=n.dataset.id;we(s)})}function K(){A.classList.add("is-hidden"),A.classList.remove("is-active")}function Ae(){A.classList.remove("is-hidden"),A.classList.add("is-active")}async function k(e=!1){xe();try{const t=await ae(b,q,R,Y),n=t.artists;n.length===0?(K(),M.classList.add("visually-hidden"),B.classList.remove("visually-hidden"),B.classList.add("is-active")):(Ae(),M.classList.remove("visually-hidden"),B.classList.add("visually-hidden"),B.classList.remove("is-active"));const s=Ne(n);if(e){M.insertAdjacentHTML("beforeend",s);const r=document.querySelector(".artist-item");if(r){const a=r.getBoundingClientRect().height;window.scrollBy({top:a,behavior:"smooth"})}}else M.innerHTML=s;z=t.totalArtists,b*W>=z&&K(),b++}catch{return}finally{Ie()}}function Te(e){e.preventDefault(),q=e.target.search.value.trim(),console.log(q),b=1,k(),F.classList.toggle("is-open"),re()}function Me(e){Y=e.target.value.trim(),b=1,k()}function Be(e){b=1,R=e.target.value.trim(),k()}function re(){b=1,q="",R="",Y="",F.querySelector('input[name="search"]').value="",oe.value="",se.value="",k()}const N=document.querySelector(".loader");function qe(e){return`
    <ul class="artist-genre-list">
      ${e.map(t=>`<li class="artist-genre-item">${t}</li>`).join("")}
    </ul>
  `}function Ne(e){return e.map(t=>`
    <li class="artist-item">
          <img class="artist-item-img" src="${t.strArtistThumb}" alt="${t.strArtist}">
          ${qe(t.genres)}
          <p class="artist-name">${t.strArtist}</p>
          <p class="artist-description">${X(t.strBiographyEN,67)}</p>
          <button type="button" class="artist-learn-btn" data-id="${t._id}">Learn More
            <svg class="learn-btn-svg">
              <use href="${ee}#icon-icon"></use>
            </svg>
          </button>
    </li>`).join("")}function xe(){N.classList.add("is-active"),N.classList.remove("is-hidden")}function Ie(){N.classList.add("is-hidden"),N.classList.remove("is-active")}Se();
//# sourceMappingURL=index.js.map
