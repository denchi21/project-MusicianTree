import{a as k,i as y}from"./assets/vendor-Dy6RejrS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const q="https://sound-wave.b.goit.study/api",L=8;async function w(t=1){try{const e=await k.get(`${q}/artists`,{params:{page:t,limit:L}});return e.data?e.data||[]:(console.error("Error: API returned no data"),[])}catch(e){throw console.error("Error:",e),e}}const p=document.querySelector(".burger-btn"),m=document.querySelector(".mobile-menu"),g=document.querySelector(".mobile-menu-close"),M=document.querySelectorAll(".mobile-nav-link"),B=document.querySelectorAll(".nav-link"),O=document.querySelector(".page-header");p&&p.addEventListener("click",()=>{m.classList.add("is-open"),document.body.style.overflow="hidden"});g&&g.addEventListener("click",()=>{m.classList.remove("is-open"),document.body.style.overflow=""});function b(t){const e=document.querySelector(t);if(e){const n=O.offsetHeight,o=e.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:o,behavior:"smooth"})}}B.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const n=e.currentTarget.getAttribute("href");b(n)})});M.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const n=e.currentTarget.getAttribute("href");b(n),m.classList.remove("is-open"),document.body.style.overflow=""})});function E(t,e){return typeof t!="string"?"":t.length>e?t.slice(0,e)+"...":t}const I=document.querySelectorAll(".artist-description"),P=67;I.forEach(t=>{if(t){const e=E(t.textContent,P);t.textContent=e}});const a=document.querySelector(".loader");function T(t){return`
    <ul class="artist-genre-list">
      ${t.map(e=>`<li class="artist-genre-item">${e}</li>`).join("")}
    </ul>
  `}function C(t){return t.map(e=>`
    <li class="artist-item">
          <img class="artist-item-img" src="${e.strArtistThumb}" alt="${e.strArtist}">
          ${T(e.genres)}
          <p class="artist-name">${e.strArtist}</p>
          <p class="artist-description">${E(e.strBiographyEN,67)}</p>
          <button type="button" class="artist-learn-btn" data-id="${e._id}">Learn More
            <svg class="learn-btn-svg">
               <use href="/img/icons-svg.svg#icon-icon"></use>
            </svg>
          </button>
        </li>`).join("")}function $(){a.classList.add("is-active"),a.classList.remove("is-hidden")}function D(){a.classList.add("is-hidden"),a.classList.remove("is-active")}function v(){u.classList.add("is-hidden"),u.classList.remove("is-active")}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".artist-learn-btn"),e=document.querySelector(".container-modal"),n=e.querySelector(".modal"),s=e.querySelector(".container-modal-1"),o=e.querySelector(".modal-close-btn"),r=document.getElementById("modalLoader");function i(l){l.key==="Escape"&&c()}function f(l){s.contains(l.target)||c()}function A(){e.classList.add("is-open"),document.body.classList.add("modal-open"),r.style.display="block",s.style.display="none",setTimeout(()=>{r.style.display="none",s.style.display="block",o.addEventListener("click",c),document.addEventListener("keydown",i),n.addEventListener("click",f)},1500)}function c(){e.classList.remove("is-open"),document.body.classList.remove("modal-open"),r.style.display="none",s.style.display="block",o.removeEventListener("click",c),document.removeEventListener("keydown",i),n.removeEventListener("click",f)}t.addEventListener("click",A)});const N=document.querySelector(".artist-list"),u=document.querySelector(".artist-load-btn");let d=1,h=0;u.addEventListener("click",S);document.addEventListener("DOMContentLoaded",S);async function S(){$();try{const t=await w(d),e=t.artists;if(h=t.totalArtists,d*L>=h){v(),y.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"});return}if(!e||!Array.isArray(e)){console.error("Error: fetched data is not an array or is undefined");return}if(e.length===0){v();return}const s=C(e);N.insertAdjacentHTML("beforeend",s),d++}catch(t){console.error("Error loading artists:",t),y.error({message:"Something went wrong. Please try again later.",position:"topCenter"})}finally{D();const t=document.querySelector(".artist-item");if(t){const e=t.getBoundingClientRect().height;window.scrollBy({top:e,behavior:"smooth"})}}}const H=document.querySelector(".artist-list");H.addEventListener("click",t=>{const e=t.target.closest(".artist-learn-btn");if(!e)return;const n=e.dataset.id;console.log("ID виконавця:",n)});
//# sourceMappingURL=index.js.map
